# Watt-O-Balancer — REST API: Start Charging
#
# This script resumes charging via a REST command.
# You must first define the rest_command in configuration.yaml (see below).
#
# Received variables:
#   charger_id — config entry ID (string)
#
# Prerequisites — add to configuration.yaml:
#
#   rest_command:
#     start_charger:
#       url: "http://YOUR_CHARGER_IP/api/start"
#       method: POST
#
# How to use:
#   1. Add the rest_command above to your configuration.yaml and restart HA.
#   2. In HA go to Settings → Automations & Scenes → Scripts → + Add Script.
#   3. Switch to YAML mode and paste this content.
#   4. Replace the rest_command name if yours differs.
#   5. Test from Developer Tools → Actions:
#        Service: script.turn_on
#        Target:  script.ev_lb_start_charging
#        Data:    { variables: { charger_id: test } }
#   6. Confirm your charger resumes before wiring this to the integration.

alias: EV LB - Start Charging (REST)
description: Resume EV charging via REST API
mode: single
fields:
  charger_id:
    description: Charger identifier
    selector:
      text:
sequence:
  - action: rest_command.start_charger
